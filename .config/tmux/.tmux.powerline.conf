# vim: ft=tmux

if-shell 'test -z "$POWERLINE_CONFIG_COMMAND"' 'set-environment -g POWERLINE_CONFIG_COMMAND powerline-config'

# Don't version-check for this core functionality -- anything too old to
# support these options likely won't work well with powerline
set -g status on
set -g status-interval 2
set -g status-left-length 60
set -g status-left '#[fg=#90A6A6,bg=#6E8A8A,bold]  #[fg=#6E8A8A,bg=#546E6E,nobold]#[fg=colour254,bg=#546E6E,bold] #(whoami) #[fg=#546E6E,bg=#546E6E,nobold]'

set -g status-right-length 150
set -g status-right '#[fg=#90A6A6]  #[fg=#3D4545,bg=#90A6A6]  #[fg=#546E6E,bold]#[fg=#90A6A6,bg=#546E6E,bold] #{pane_current_path} '

set -g window-status-separator '#[fg=#E11E2D,bg=#E11E2D]'
set -g window-status-format "#[fg=colour244,bg=colour234] #I #[fg=colour240] #[default,bg=colour234]#W #[bg=#{?#{window_end_flag},#313D40,#4E6666},fg=#1C1C1C]"
set -g window-status-current-format "#[fg=#4E6666,bg=#4E6666]#[fg=#364545,bg=#4E6666] #I  #[fg=#4E6666,bg=#7D9696]#[fg=#A9C2C2,bold,bg=#7D9696] #W #[fg=#7D9696,bg=#{?#{window_end_flag},#313D40,#1C1C1C},nobold]"
set -g status-bg "#313D40"

# load powerline
if-shell 'env "$POWERLINE_CONFIG_COMMAND" tmux setup' '' 'run-shell "powerline-config tmux setup"'
